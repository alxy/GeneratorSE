
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>3. Tutorial &#8212; GeneratorSE 0.1.1 documentation</title>
    <link rel="stylesheet" href="_static/nrel.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Documentation" href="documentation.html" />
    <link rel="prev" title="2. Installation" href="installation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="documentation.html" title="4. Documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="2. Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GeneratorSE 0.1.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorial">
<span id="tutorial-label"></span><h1>3. Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">Â¶</a></h1>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
As an example, let us size a direct drive Permanent Magnet synchronous Generator (PMSG) for the NREL 5MW Reference Model [FAST2009].
=======
As a frst example, we will size a direct-drive Permanent Magnet synchronous Generator (PMSG) for the NREL 5MW Reference Model [FAST2009].
&gt;&gt;&gt;&gt;&gt;&gt;&gt; develop</p>
<p>The first step is to import the relevant files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">generatorse.PMSG_arms</span>
<span class="kn">import</span> <span class="nn">generatorse.DFIG</span>


</pre></div>
</div>
<p>We will start with the radial flux PMSG with spoke arm arrangement.  The PMSG module relies on inputs from the rotor such as rated speed,
power rating and rated torque.  It also requires specification of shear stress, material properties( densities), specific costs and target design efficiency.
and initialization of electromagnetic and structural design variables necessary to calculate basic design. Specification of the optimisation
objective(Costs,Mass, Efficiency or Aspect ratio) and driver determines the final design. The designs are generated in compliance with the user-specified constraints on generator
terminal voltage and constraints imposed on the dimensions and electrical,magnetic and structural deformations. The excitation requirement (e.g., magnet dimensions,pole pairs)
is determined in accordance with the required voltage at no-load.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="c1">## Initial design variables for a DD PMSG designed for a 5MW turbine</span>

<span class="n">opt_problem</span> <span class="o">=</span> <span class="n">PMSG_arms_Opt</span><span class="p">(</span><span class="s1">&#39;CONMINdriver&#39;</span><span class="p">,</span><span class="s1">&#39;PMSG_Cost.Costs&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Optimiser and Objective function</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">P_rated</span><span class="o">=</span><span class="mf">5.0e6</span>															<span class="c1"># Rated power</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">T_rated</span><span class="o">=</span><span class="mf">4.143289e6</span>												<span class="c1"># Rated torque (Nm)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">N</span><span class="o">=</span><span class="mf">12.1</span>																		<span class="c1"># Rated speed (rpm)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">Eta_target</span> <span class="o">=</span> <span class="mi">93</span>														<span class="c1"># Target design efficiency %</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_r_s</span><span class="o">=</span> <span class="mf">3.26</span>														<span class="c1"># Air gap radius (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_l_s</span><span class="o">=</span> <span class="mf">1.6</span>															<span class="c1"># core length (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_h_s</span> <span class="o">=</span> <span class="mf">0.07</span>														<span class="c1"># Stator slot height (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_tau_p</span> <span class="o">=</span> <span class="mf">0.08</span>													<span class="c1"># Pole pitch (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_h_m</span> <span class="o">=</span> <span class="mf">0.009</span>													<span class="c1"># Magnet height (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_h_ys</span> <span class="o">=</span> <span class="mf">0.075</span>												<span class="c1"># Stator yoke height (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_h_yr</span> <span class="o">=</span> <span class="mf">0.075</span>													<span class="c1"># Rotor yoke height (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_n_s</span> <span class="o">=</span> <span class="mi">5</span>															<span class="c1"># Stator arms</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_b_st</span> <span class="o">=</span> <span class="mf">0.480</span>													<span class="c1"># Stator circumferential arm dimension (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_n_r</span> <span class="o">=</span><span class="mi">5</span>																<span class="c1"># Rotor arms</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_b_r</span> <span class="o">=</span> <span class="mf">0.530</span>													<span class="c1"># Rotor circumferential arm dimension (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_d_r</span> <span class="o">=</span> <span class="mf">0.7</span>														<span class="c1"># Rotor axial arm dimension (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_d_s</span><span class="o">=</span> <span class="mf">0.35</span>															<span class="c1"># Stator axial arm dimension (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_t_wr</span> <span class="o">=</span><span class="mf">0.06</span>														<span class="c1"># Rotor arm thickness (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_t_ws</span> <span class="o">=</span><span class="mf">0.06</span>														<span class="c1"># Stator arm thickness (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_R_o</span> <span class="o">=</span><span class="mf">0.43</span>														<span class="c1"># Main shaft radius (meter)</span>

<span class="c1">#Specific costs</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">C_Cu</span>   <span class="o">=</span><span class="mf">4.786</span>                  						<span class="c1"># Unit cost of Copper $/kg</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">C_Fe</span>	<span class="o">=</span> <span class="mf">0.556</span>                    					<span class="c1"># Unit cost of Iron/magnetic steel $/kg</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">C_Fes</span> <span class="o">=</span><span class="mf">0.50139</span>                   					<span class="c1"># specific cost of structural steel</span>

<span class="c1">#Material properties</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">rho_Fe</span> <span class="o">=</span> <span class="mi">7700</span>                 						<span class="c1"># magnetic Steel density</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">rho_Copper</span> <span class="o">=</span><span class="mi">8900</span>              						<span class="c1"># Kg/m3 copper density</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">rho_PM</span> <span class="o">=</span><span class="mi">7450</span>                  						<span class="c1"># Kg/m3 magnet density</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">rho_Fes</span> <span class="o">=</span><span class="mi">7850</span>                  						<span class="c1"># Kg/m3 structural steel density</span>

</pre></div>
</div>
<p>We now run the PMSG_arms module.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

</pre></div>
</div>
<p>The resulting system and component properties can then be printed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="n">raw_data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Parameters&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Rating&#39;</span><span class="p">,</span><span class="s1">&#39;Stator Arms&#39;</span><span class="p">,</span> <span class="s1">&#39;Stator Axial arm dimension&#39;</span><span class="p">,</span><span class="s1">&#39;Stator Circumferential arm dimension&#39;</span><span class="p">,</span><span class="s1">&#39; Stator arm Thickness&#39;</span> <span class="p">,</span><span class="s1">&#39;Rotor arms&#39;</span><span class="p">,</span><span class="s1">&#39;Rotor Axial arm dimension&#39;</span><span class="p">,</span><span class="s1">&#39;Rotor Circumferential arm dimension&#39;</span> <span class="p">,</span><span class="s1">&#39;Rotor arm Thickness&#39;</span><span class="p">,</span><span class="s1">&#39; Stator Radial deflection&#39;</span><span class="p">,</span> <span class="s1">&#39;Stator Axial deflection&#39;</span><span class="p">,</span><span class="s1">&#39;Stator circum deflection&#39;</span><span class="p">,</span><span class="s1">&#39; Rotor Radial deflection&#39;</span><span class="p">,</span> <span class="s1">&#39;Rotor Axial deflection&#39;</span><span class="p">,</span><span class="s1">&#39;Rotor circum deflection&#39;</span><span class="p">,</span> <span class="s1">&#39;Air gap diameter&#39;</span><span class="p">,</span><span class="s1">&#39;Overall Outer diameter&#39;</span><span class="p">,</span> <span class="s1">&#39;Stator length&#39;</span><span class="p">,</span> <span class="s1">&#39;l/d ratio&#39;</span><span class="p">,</span><span class="s1">&#39;Slot_aspect_ratio&#39;</span><span class="p">,</span><span class="s1">&#39;Pole pitch&#39;</span><span class="p">,</span> <span class="s1">&#39;Stator slot height&#39;</span><span class="p">,</span><span class="s1">&#39;Stator slotwidth&#39;</span><span class="p">,</span><span class="s1">&#39;Stator tooth width&#39;</span><span class="p">,</span> <span class="s1">&#39;Stator yoke height&#39;</span><span class="p">,</span> <span class="s1">&#39;Rotor yoke height&#39;</span><span class="p">,</span> <span class="s1">&#39;Magnet height&#39;</span><span class="p">,</span> <span class="s1">&#39;Magnet width&#39;</span><span class="p">,</span> <span class="s1">&#39;Peak air gap flux density fundamental&#39;</span><span class="p">,</span><span class="s1">&#39;Peak stator yoke flux density&#39;</span><span class="p">,</span><span class="s1">&#39;Peak rotor yoke flux density&#39;</span><span class="p">,</span><span class="s1">&#39;Flux density above magnet&#39;</span><span class="p">,</span><span class="s1">&#39;Maximum Stator flux density&#39;</span><span class="p">,</span><span class="s1">&#39;Maximum tooth flux density&#39;</span><span class="p">,</span><span class="s1">&#39;Pole pairs&#39;</span><span class="p">,</span> <span class="s1">&#39;Generator output frequency&#39;</span><span class="p">,</span> <span class="s1">&#39;Generator output phase voltage&#39;</span><span class="p">,</span> <span class="s1">&#39;Generator Output phase current&#39;</span><span class="p">,</span> <span class="s1">&#39;Stator resistance&#39;</span><span class="p">,</span><span class="s1">&#39;Synchronous inductance&#39;</span><span class="p">,</span> <span class="s1">&#39;Stator slots&#39;</span><span class="p">,</span><span class="s1">&#39;Stator turns&#39;</span><span class="p">,</span><span class="s1">&#39;Conductor cross-section&#39;</span><span class="p">,</span><span class="s1">&#39;Stator Current density &#39;</span><span class="p">,</span><span class="s1">&#39;Specific current loading&#39;</span><span class="p">,</span><span class="s1">&#39;Generator Efficiency &#39;</span><span class="p">,</span><span class="s1">&#39;Iron mass&#39;</span><span class="p">,</span><span class="s1">&#39;Magnet mass&#39;</span><span class="p">,</span><span class="s1">&#39;Copper mass&#39;</span><span class="p">,</span><span class="s1">&#39;Mass of Arms&#39;</span><span class="p">,</span> <span class="s1">&#39;Total Mass&#39;</span><span class="p">,</span><span class="s1">&#39;Total Material Cost&#39;</span><span class="p">],</span>
			<span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">P_gennom</span><span class="o">/</span><span class="mi">1000000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">n_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">d_s</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">b_st</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">t_ws</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">n_r</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">d_r</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">b_r</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">t_wr</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">Stator_delta_radial</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">Stator_delta_axial</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">Stator_circum</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">Rotor_delta_radial</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">Rotor_delta_axial</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">Rotor_circum</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">r_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">R_out</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">l_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">K_rad</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">Slot_aspect_ratio</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">tau_p</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">h_s</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">b_s</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">b_t</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">t_s</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">t</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">h_m</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">b_m</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">B_g</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">B_symax</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">B_rymax</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">B_pm1</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">B_smax</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">B_tmax</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">p</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">f</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">E_p</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">I_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">R_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">L_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">S</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">N_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">A_Cuscalc</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">J_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">A_1</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">gen_eff</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">Iron</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">mass_PM</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">Copper</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">Structural_mass</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">Mass</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG_Cost</span><span class="o">.</span><span class="n">Costs</span><span class="o">/</span><span class="mi">1000</span><span class="p">],</span>
				<span class="s1">&#39;Limit&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">b_all_s</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">b_all_r</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">u_all_s</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">y_all</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">z_all_s</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">u_all_r</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">y_all</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">z_all_r</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;(0.2-0.27)&#39;</span><span class="p">,</span><span class="s1">&#39;(4-10)&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&lt;2&#39;</span><span class="p">,</span><span class="s1">&#39;&lt;2&#39;</span><span class="p">,</span><span class="s1">&#39;&lt;2&#39;</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">PMSG</span><span class="o">.</span><span class="n">B_g</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&gt;500&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">,</span><span class="s1">&#39;3-6&#39;</span><span class="p">,</span><span class="s1">&#39;60&#39;</span><span class="p">,</span><span class="s1">&#39;&gt;93%&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">],</span>
				<span class="s1">&#39;Units&#39;</span><span class="p">:[</span><span class="s1">&#39;MW&#39;</span><span class="p">,</span><span class="s1">&#39;unit&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="s1">&#39;Hz&#39;</span><span class="p">,</span><span class="s1">&#39;V&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;ohm/phase&#39;</span><span class="p">,</span><span class="s1">&#39;p.u&#39;</span><span class="p">,</span><span class="s1">&#39;A/mm^2&#39;</span><span class="p">,</span><span class="s1">&#39;slots&#39;</span><span class="p">,</span><span class="s1">&#39;turns&#39;</span><span class="p">,</span><span class="s1">&#39;mm^2&#39;</span><span class="p">,</span><span class="s1">&#39;kA/m&#39;</span><span class="p">,</span><span class="s1">&#39;%&#39;</span><span class="p">,</span><span class="s1">&#39;tons&#39;</span><span class="p">,</span><span class="s1">&#39;tons&#39;</span><span class="p">,</span><span class="s1">&#39;tons&#39;</span><span class="p">,</span><span class="s1">&#39;tons&#39;</span><span class="p">,</span><span class="s1">&#39;tons&#39;</span><span class="p">,</span><span class="s1">&#39;k$&#39;</span><span class="p">]}</span>
	<span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Parameters&#39;</span><span class="p">,</span><span class="s1">&#39;Values&#39;</span><span class="p">,</span><span class="s1">&#39;Limit&#39;</span><span class="p">,</span><span class="s1">&#39;Units&#39;</span><span class="p">])</span>
<span class="nb">print</span> <span class="n">df</span>

</pre></div>
</div>
<p>The results should appear as below listing the parameters together with their limits where applicable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span>                              <span class="n">Parameters</span>       <span class="n">Values</span>       <span class="n">Limit</span>      <span class="n">Units</span>
<span class="go">&gt;&gt;&gt;0                                  Rating     5.000000                     MW</span>
<span class="go">&gt;&gt;&gt;1                             Stator Arms     5.000000                   unit</span>
<span class="go">&gt;&gt;&gt;2              Stator Axial arm dimension   350.703167                     mm</span>
<span class="go">&gt;&gt;&gt;3    Stator Circumferential arm dimension   482.007741     540.354         mm</span>
<span class="go">&gt;&gt;&gt;4                    Stator arm Thickness    61.619914                     mm</span>
<span class="go">&gt;&gt;&gt;5                              Rotor arms     5.000000                     mm</span>
<span class="go">&gt;&gt;&gt;6               Rotor Axial arm dimension   700.262663                     mm</span>
<span class="go">&gt;&gt;&gt;7     Rotor Circumferential arm dimension   529.596686     540.354</span>
<span class="go">&gt;&gt;&gt;8                     Rotor arm Thickness    61.507975                     mm</span>
<span class="go">&gt;&gt;&gt;9                Stator Radial deflection     0.303023    0.336816         mm</span>
<span class="go">&gt;&gt;&gt;10                Stator Axial deflection     0.889166     35.5411         mm</span>
<span class="go">&gt;&gt;&gt;11               Stator circum deflection     2.810001     2.93928         mm</span>
<span class="go">&gt;&gt;&gt;12                Rotor Radial deflection     0.273438     0.32038         mm</span>
<span class="go">&gt;&gt;&gt;13                 Rotor Axial deflection     0.207442     35.5411         mm</span>
<span class="go">&gt;&gt;&gt;14                Rotor circum deflection     2.730594     2.79584         mm</span>
<span class="go">&gt;&gt;&gt;15                       Air gap diameter     6.528774                      m</span>
<span class="go">&gt;&gt;&gt;16                 Overall Outer diameter     6.735516                      m</span>
<span class="go">&gt;&gt;&gt;17                          Stator length     1.602079                      m</span>
<span class="go">&gt;&gt;&gt;18                              l/d ratio     0.245387  (0.2-0.27)</span>
<span class="go">&gt;&gt;&gt;19                      Slot_aspect_ratio     4.540202      (4-10)</span>
<span class="go">&gt;&gt;&gt;20                             Pole pitch    87.489138                     mm</span>
<span class="go">&gt;&gt;&gt;21                     Stator slot height    59.694191                     mm</span>
<span class="go">&gt;&gt;&gt;22                       Stator slotwidth    13.147915                     mm</span>
<span class="go">&gt;&gt;&gt;23                     Stator tooth width    16.069674                     mm</span>
<span class="go">&gt;&gt;&gt;24                     Stator yoke height    88.166066                     mm</span>
<span class="go">&gt;&gt;&gt;25                      Rotor yoke height    88.054034                     mm</span>
<span class="go">&gt;&gt;&gt;26                          Magnet height    10.033035                     mm</span>
<span class="go">&gt;&gt;&gt;27                           Magnet width    61.242397                     mm</span>
<span class="go">&gt;&gt;&gt;28  Peak air gap flux density fundamental     0.801267                      T</span>
<span class="go">&gt;&gt;&gt;29          Peak stator yoke flux density     0.310472          &lt;2          T</span>
<span class="go">&gt;&gt;&gt;30           Peak rotor yoke flux density     0.279780          &lt;2          T</span>
<span class="go">&gt;&gt;&gt;31              Flux density above magnet     0.706295          &lt;2          T</span>
<span class="go">&gt;&gt;&gt;32            Maximum Stator flux density     0.096866    0.801267          T</span>
<span class="go">&gt;&gt;&gt;33             Maximum tooth flux density     1.456850                      T</span>
<span class="go">&gt;&gt;&gt;34                             Pole pairs   117.000000                      -</span>
<span class="go">&gt;&gt;&gt;35             Generator output frequency    23.595000                     Hz</span>
<span class="go">&gt;&gt;&gt;36         Generator output phase voltage  1949.059873                      V</span>
<span class="go">&gt;&gt;&gt;37         Generator Output phase current   876.527669        &gt;500          A</span>
<span class="go">&gt;&gt;&gt;38                      Stator resistance     0.098504              ohm/phase</span>
<span class="go">&gt;&gt;&gt;39                 Synchronous inductance     0.009766                    p.u</span>
<span class="go">&gt;&gt;&gt;40                           Stator slots   702.000000                 A/mm^2</span>
<span class="go">&gt;&gt;&gt;41                           Stator turns   234.000000                  slots</span>
<span class="go">&gt;&gt;&gt;42                Conductor cross-section   233.712239           5      turns</span>
<span class="go">&gt;&gt;&gt;43                Stator Current density      3.750457         3-6       mm^2</span>
<span class="go">&gt;&gt;&gt;44               Specific current loading    60.000000          60       kA/m</span>
<span class="go">&gt;&gt;&gt;45                  Generator Efficiency     93.015124        &gt;93%          %</span>
<span class="go">&gt;&gt;&gt;46                              Iron mass    58.999520                   tons</span>
<span class="go">&gt;&gt;&gt;47                            Magnet mass     1.897407                   tons</span>
<span class="go">&gt;&gt;&gt;48                            Copper mass     5.700674                   tons</span>
<span class="go">&gt;&gt;&gt;49                           Mass of Arms    34.452569                   tons</span>
<span class="go">&gt;&gt;&gt;50                             Total Mass   101.050170                   tons</span>
<span class="go">&gt;&gt;&gt;51                    Total Material Cost   257.614977                     k$</span>
</pre></div>
</div>
<p>These structural design dimensions can be used to create CAD models and the resulting design can be validated by structural analysis. The electromagnetic design dimensions from the excel file can be read into the the MATALB script [Par_GeneratorSE_FEMM_PMSG.m] to populate the 2D finite element mesh model in FEMM and perform a magnetostatic analysis.</p>
<p>As a second example, we will design a gear driven Doubly fed Induction generator(DFIG).  The DFIG design
relies on inputs such as machine rating, target overall drivetrain efficiency, gearbox efficiency,
high speed shaft speed( or gear ratio).It also requires specification of shear stress, material properties( densities), specific material costs.
The main design variables are initialized with an objective and driver. The designs are computed analytically and checked against predefined constraints
to meet objective functions.In addition, calculations of mass properties are also made.
We now instantiate the DFIG object which automatically updates the mass, costs, efficiency and performance variables based on the supplied inputs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="c1"># # Initial design values for a DFIG designed for a 5MW turbine</span>

<span class="n">opt_problem</span> <span class="o">=</span> <span class="n">DFIG_Opt</span><span class="p">(</span><span class="s1">&#39;CONMINdriver&#39;</span><span class="p">,</span><span class="s1">&#39;DFIG_Cost.Costs&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># Optimiser and Objective function</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">Eta_target</span><span class="o">=</span><span class="mi">93</span>														<span class="c1"># Target overall drivetrain efficiency</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG_P_rated</span><span class="o">=</span><span class="mf">5e6</span>												<span class="c1"># Rated power</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG_N_rated</span><span class="o">=</span><span class="mi">1200</span>												<span class="c1"># Rated speed</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">Gearbox_efficiency</span><span class="o">=</span><span class="mf">0.955</span>								<span class="c1"># Gearbox efficiency</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG_r_s</span><span class="o">=</span> <span class="mf">0.61</span>                          <span class="c1"># Air gap radius (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG_l_s</span><span class="o">=</span> <span class="mf">0.49</span> 													<span class="c1"># Core length (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG_h_s</span> <span class="o">=</span> <span class="mf">0.08</span> 													<span class="c1"># Stator Slot height (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG_h_r</span> <span class="o">=</span> <span class="mf">0.100</span> 												<span class="c1"># Rotor Slot height (meter)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG_I_0</span> <span class="o">=</span> <span class="mi">40</span> 													<span class="c1"># No-load magnetization current (Ampere)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG_B_symax</span> <span class="o">=</span> <span class="mf">1.3</span> 											<span class="c1"># Peak Stator yoke flux density (Tesla)</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG_S_Nmax</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.2</span> 										<span class="c1"># Maximum slip</span>

<span class="c1"># Specific costs</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">C_Cu</span>   <span class="o">=</span><span class="mf">4.786</span>														<span class="c1"># Unit cost of Copper $/kg</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">C_Fe</span>	<span class="o">=</span> <span class="mf">0.556</span>                    				<span class="c1"># Unit cost of Iron $/kg</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">C_Fes</span> <span class="o">=</span><span class="mf">0.50139</span>                   				<span class="c1"># specific cost of structure</span>

<span class="c1">#Material properties</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">rho_Fe</span> <span class="o">=</span> <span class="mi">7700</span>                 					<span class="c1">#Steel density</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">rho_Copper</span> <span class="o">=</span><span class="mi">8900</span>                  			<span class="c1"># Kg/m3 copper density</span>

</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="c1">#Run optimization</span>
<span class="n">opt_problem</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

</pre></div>
</div>
<p>The resulting system and component properties can then be printed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">raw_data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Parameters&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Rating&#39;</span><span class="p">,</span><span class="s1">&#39;Objective function&#39;</span><span class="p">,</span><span class="s1">&#39;Air gap diameter&#39;</span><span class="p">,</span> <span class="s2">&quot;Stator length&quot;</span><span class="p">,</span><span class="s2">&quot;Kra&quot;</span><span class="p">,</span><span class="s2">&quot;Diameter ratio&quot;</span><span class="p">,</span> <span class="s2">&quot;Pole pitch(tau_p)&quot;</span><span class="p">,</span> <span class="s2">&quot; Number of Stator Slots&quot;</span><span class="p">,</span><span class="s2">&quot;Stator slot height(h_s)&quot;</span><span class="p">,</span><span class="s2">&quot;Slots/pole/phase&quot;</span><span class="p">,</span><span class="s2">&quot;Stator slot width(b_s)&quot;</span><span class="p">,</span> <span class="s2">&quot; Stator slot aspect ratio&quot;</span><span class="p">,</span><span class="s2">&quot;Stator tooth width(b_t)&quot;</span><span class="p">,</span> <span class="s2">&quot;Stator yoke height(h_ys)&quot;</span><span class="p">,</span><span class="s2">&quot;Rotor slots&quot;</span><span class="p">,</span> <span class="s2">&quot;Rotor yoke height(h_yr)&quot;</span><span class="p">,</span> <span class="s2">&quot;Rotor slot height(h_r)&quot;</span><span class="p">,</span> <span class="s2">&quot;Rotor slot width(b_r)&quot;</span><span class="p">,</span><span class="s2">&quot; Rotor Slot aspect ratio&quot;</span><span class="p">,</span> <span class="s2">&quot;Rotor tooth width(b_t)&quot;</span><span class="p">,</span> <span class="s2">&quot;Peak air gap flux density&quot;</span><span class="p">,</span><span class="s2">&quot;Peak air gap flux density fundamental&quot;</span><span class="p">,</span><span class="s2">&quot;Peak stator yoke flux density&quot;</span><span class="p">,</span><span class="s2">&quot;Peak rotor yoke flux density&quot;</span><span class="p">,</span><span class="s2">&quot;Peak Stator tooth flux density&quot;</span><span class="p">,</span><span class="s2">&quot;Peak rotor tooth flux density&quot;</span><span class="p">,</span><span class="s2">&quot;Pole pairs&quot;</span><span class="p">,</span> <span class="s2">&quot;Generator output frequency&quot;</span><span class="p">,</span> <span class="s2">&quot;Generator output phase voltage&quot;</span><span class="p">,</span> <span class="s2">&quot;Generator Output phase current&quot;</span><span class="p">,</span><span class="s2">&quot;Optimal Slip&quot;</span><span class="p">,</span><span class="s2">&quot;Stator Turns&quot;</span><span class="p">,</span><span class="s2">&quot;Conductor cross-section&quot;</span><span class="p">,</span><span class="s2">&quot;Stator Current density&quot;</span><span class="p">,</span><span class="s2">&quot;Specific current loading&quot;</span><span class="p">,</span><span class="s2">&quot;Stator resistance&quot;</span><span class="p">,</span> <span class="s2">&quot;Stator leakage inductance&quot;</span><span class="p">,</span> <span class="s2">&quot;Excited magnetic inductance&quot;</span><span class="p">,</span><span class="s2">&quot; Rotor winding turns&quot;</span><span class="p">,</span><span class="s2">&quot;Conductor cross-section&quot;</span><span class="p">,</span><span class="s2">&quot;Magnetization current&quot;</span><span class="p">,</span><span class="s2">&quot;I_mag/Is&quot;</span><span class="p">,</span><span class="s2">&quot; Rotor Current density&quot;</span><span class="p">,</span><span class="s2">&quot;Rotor resitance&quot;</span><span class="p">,</span> <span class="s2">&quot; Rotor leakage inductance&quot;</span><span class="p">,</span> <span class="s2">&quot;Generator Efficiency&quot;</span><span class="p">,</span><span class="s2">&quot;Overall drivetrain Efficiency&quot;</span><span class="p">,</span><span class="s2">&quot;Iron mass&quot;</span><span class="p">,</span><span class="s2">&quot;Copper mass&quot;</span><span class="p">,</span><span class="s2">&quot;Structural Steel mass&quot;</span><span class="p">,</span><span class="s2">&quot;Total Mass&quot;</span><span class="p">,</span><span class="s2">&quot;Total Material Cost&quot;</span><span class="p">],</span>
		<span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">machine_rating</span><span class="o">/</span><span class="mf">1e6</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">Objective_function</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">r_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">l_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">K_rad</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">D_ratio</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">tau_p</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">N_slots</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">h_s</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">q1</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">b_s</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">Slot_aspect_ratio1</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">b_t</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">h_ys</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">Q_r</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">h_yr</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">h_r</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">b_r</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">Slot_aspect_ratio2</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">b_tr</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">B_g</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">B_g1</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">B_symax</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">B_rymax</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">B_tsmax</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">B_trmax</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">p</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">f</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">E_p</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">I_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">S_Nmax</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">N_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">A_Cuscalc</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">J_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">A_1</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">R_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">L_s</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">L_sm</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">N_r</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">A_Curcalc</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">I_0</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">Current_ratio</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">J_r</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">R_R</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">L_r</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">gen_eff</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">Overall_eff</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">Iron</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">Copper</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">Structural_mass</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG</span><span class="o">.</span><span class="n">Mass</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">DFIG_Cost</span><span class="o">.</span><span class="n">Costs</span><span class="o">/</span><span class="mi">1000</span><span class="p">],</span>
			<span class="s1">&#39;Limit&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;(0.2-1.5)&#39;</span><span class="p">,</span><span class="s1">&#39;(1.37-1.4)&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;(4-10)&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;(4-10)&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;(0.7-1.2)&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;2.1&#39;</span><span class="p">,</span><span class="s1">&#39;2.1&#39;</span><span class="p">,</span><span class="s1">&#39;2.1&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;(500-5000)&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;(-0.002-0.3)&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;(3-6)&#39;</span><span class="p">,</span><span class="s1">&#39;&lt;60&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;(0.1-0.3)&#39;</span><span class="p">,</span><span class="s1">&#39;(3-6)&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">opt_problem</span><span class="o">.</span><span class="n">Eta_target</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">],</span>
				<span class="s1">&#39;Units&#39;</span><span class="p">:[</span><span class="s1">&#39;MW&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="s1">&#39;mm&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;T&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="s1">&#39;Hz&#39;</span><span class="p">,</span><span class="s1">&#39;V&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;turns&#39;</span><span class="p">,</span><span class="s1">&#39;mm^2&#39;</span><span class="p">,</span><span class="s1">&#39;A/mm^2&#39;</span><span class="p">,</span><span class="s1">&#39;kA/m&#39;</span><span class="p">,</span><span class="s1">&#39;ohms&#39;</span><span class="p">,</span><span class="s1">&#39;p.u&#39;</span><span class="p">,</span><span class="s1">&#39;p.u&#39;</span><span class="p">,</span><span class="s1">&#39;turns&#39;</span><span class="p">,</span><span class="s1">&#39;mm^2&#39;</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;A/mm^2&#39;</span><span class="p">,</span><span class="s1">&#39;ohms&#39;</span><span class="p">,</span><span class="s1">&#39;p.u&#39;</span><span class="p">,</span><span class="s1">&#39;%&#39;</span><span class="p">,</span><span class="s1">&#39;%&#39;</span><span class="p">,</span><span class="s1">&#39;Tons&#39;</span><span class="p">,</span><span class="s1">&#39;Tons&#39;</span><span class="p">,</span><span class="s1">&#39;Tons&#39;</span><span class="p">,</span><span class="s1">&#39;Tons&#39;</span><span class="p">,</span><span class="s1">&#39;$1000&#39;</span><span class="p">]}</span>
	<span class="n">df</span><span class="o">=</span><span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">raw_data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Parameters&#39;</span><span class="p">,</span><span class="s1">&#39;Values&#39;</span><span class="p">,</span><span class="s1">&#39;Limit&#39;</span><span class="p">,</span><span class="s1">&#39;Units&#39;</span><span class="p">])</span>
	<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

</pre></div>
</div>
<p>The optimized design dimensions together with the performance parameters are printed on screen and available in an output file in a Microsoft Excel format(file name [DFIG_5.0MW.xlsx]).
The results should appear as below listing the parameters together with their limits where applicable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span>                              <span class="n">Parameters</span>           <span class="n">Values</span>         <span class="n">Limit</span>                             <span class="n">Units</span>
<span class="go">&gt;&gt;&gt;0                                  Rating                5                                                                                           MW</span>
<span class="go">&gt;&gt;&gt;1                      Objective function  DFIG_Cost.Costs</span>
<span class="go">&gt;&gt;&gt;2                        Air gap diameter         0.986335                                                                                           m</span>
<span class="go">&gt;&gt;&gt;3                           Stator length          1.06174                                                                                           m</span>
<span class="go">&gt;&gt;&gt;4                                   K_rad          1.07645     (0.2-1.5)                                     -</span>
<span class="go">&gt;&gt;&gt;5                          Diameter ratio          1.36611    (1.37-1.4)                                     -</span>
<span class="go">&gt;&gt;&gt;6                       Pole pitch(tau_p)          516.444                                                                                           mm</span>
<span class="go">&gt;&gt;&gt;7                  Number of Stator Slots               90                                                                                           -</span>
<span class="go">&gt;&gt;&gt;8                 Stator slot height(h_s)              100                                                                                           mm</span>
<span class="go">&gt;&gt;&gt;9                        Slots/pole/phase                5                                                                                           -</span>
<span class="go">&gt;&gt;&gt;10                 Stator slot width(b_s)          15.4933                                                                                           mm</span>
<span class="go">&gt;&gt;&gt;11               Stator slot aspect ratio           6.4544        (4-10)                                     -</span>
<span class="go">&gt;&gt;&gt;12                Stator tooth width(b_t)          18.9363                                                                                           mm</span>
<span class="go">&gt;&gt;&gt;13               Stator yoke height(h_ys)          75.5535                                                                                           mm</span>
<span class="go">&gt;&gt;&gt;14                            Rotor slots               72                                                                                           -</span>
<span class="go">&gt;&gt;&gt;15                Rotor yoke height(h_yr)          75.5535                                                                                           mm</span>
<span class="go">&gt;&gt;&gt;16                 Rotor slot height(h_r)          99.8798                                                                                           mm</span>
<span class="go">&gt;&gt;&gt;17                  Rotor slot width(b_r)          19.2821                                                                                           mm</span>
<span class="go">&gt;&gt;&gt;18                Rotor Slot aspect ratio          5.17991                                                                                           -</span>
<span class="go">&gt;&gt;&gt;19                 Rotor tooth width(b_t)           23.567                                                                                           mm</span>
<span class="go">&gt;&gt;&gt;20              Peak air gap flux density         0.733576     (0.7-1.2)                                     T</span>
<span class="go">&gt;&gt;&gt;21  Peak air gap flux density fundamental         0.682788                                                                                           T</span>
<span class="go">&gt;&gt;&gt;22          Peak stator yoke flux density          1.59611            2.                                     T</span>
<span class="go">&gt;&gt;&gt;23           Peak rotor yoke flux density          1.59611            2.                                     T</span>
<span class="go">&gt;&gt;&gt;24         Peak Stator tooth flux density          1.33377            2.                                     T</span>
<span class="go">&gt;&gt;&gt;25          Peak rotor tooth flux density          1.67436            2.                                     T</span>
<span class="go">&gt;&gt;&gt;26                             Pole pairs                3                                                                                           -</span>
<span class="go">&gt;&gt;&gt;27             Generator output frequency               60                                                                                           Hz</span>
<span class="go">&gt;&gt;&gt;28         Generator output phase voltage          1734.26    (500-5000)                                     V</span>
<span class="go">&gt;&gt;&gt;29         Generator Output phase current          750.958                                                                                           A</span>
<span class="go">&gt;&gt;&gt;30                           Optimal Slip             -0.3  (-0.002-0.3)                                     -</span>
<span class="go">&gt;&gt;&gt;31                           Stator Turns               30</span>
<span class="go">&gt;&gt;&gt;32                Conductor cross-section          294.373                                                                                           mm^2</span>
<span class="go">&gt;&gt;&gt;33                 Stator Current density          2.55104         (3-6)                                     A/mm^2</span>
<span class="go">&gt;&gt;&gt;34               Specific current loading          43.6228           &lt;60                                     kA/m</span>
<span class="go">&gt;&gt;&gt;35                      Stator resistance       0.00201965                                                                                           -</span>
<span class="go">&gt;&gt;&gt;36              Stator leakage inductance      0.000214916                                                                                           -</span>
<span class="go">&gt;&gt;&gt;37            Excited magnetic inductance         0.034612                                                                                           -</span>
<span class="go">&gt;&gt;&gt;38                    Rotor winding turns               98                                                                                           -</span>
<span class="go">&gt;&gt;&gt;39                Conductor cross-section           123.21                                                                                           mm^2</span>
<span class="go">&gt;&gt;&gt;40                  Magnetization current          40.0191                                                                                           A</span>
<span class="go">&gt;&gt;&gt;41                               I_mag/Is         0.138807     (0.1-0.3)                                     -</span>
<span class="go">&gt;&gt;&gt;42                  Rotor Current density          5.99991         (3-6)                                     A/mm^2</span>
<span class="go">&gt;&gt;&gt;43                        Rotor resitance       0.00510091                                                                                           -</span>
<span class="go">&gt;&gt;&gt;44               Rotor leakage inductance      0.000695358                                                                                           -</span>
<span class="go">&gt;&gt;&gt;45                   Generator Efficiency           98.339                                                                                           %</span>
<span class="go">&gt;&gt;&gt;46          Overall drivetrain Efficiency          93.9137            93                                     %</span>
<span class="go">&gt;&gt;&gt;47                              Iron mass          6.59953                                                                                           Tons</span>
<span class="go">&gt;&gt;&gt;48                            Copper mass          1.09704                                                                                           Tons</span>
<span class="go">&gt;&gt;&gt;49                  Structural Steel mass          17.4623                                                                                           Tons</span>
<span class="go">&gt;&gt;&gt;50                             Total Mass          25.1589                                                                                           Tons</span>
<span class="go">&gt;&gt;&gt;51                    Total Material Cost          17.6752                                                                           $1000</span>
</pre></div>
</div>
<p>These result file can be read into the the MATALB script [Par_GeneratorSE_FEMM_DFIG.m] to populate the 2D finite element mesh model in FEMM and perform a magnetostatic analysis.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">2. Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="documentation.html"
                        title="next chapter">4. Documentation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tutorial.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="documentation.html" title="4. Documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="2. Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GeneratorSE 0.1.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, NREL.
      Last updated on Apr 08, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>